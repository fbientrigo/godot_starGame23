[gd_scene load_steps=22 format=3 uid="uid://cjbr4ps7p7n08"]

[ext_resource type="Texture2D" uid="uid://grbyt5l3udge" path="res://UI/MainScreen/envelope-background.png" id="2"]
[ext_resource type="Script" path="res://UI/MainScreen/MainScreen.gd" id="3"]
[ext_resource type="Texture2D" uid="uid://4ocdcda8roxg" path="res://VFX/star.png" id="5"]
[ext_resource type="Texture2D" uid="uid://3boepyk57504" path="res://World/DockingPoint/asteroid-round.svg" id="8"]
[ext_resource type="Texture2D" uid="uid://du3b7ixb7nn6d" path="res://Ships/Player/topdown-player.svg" id="9"]
[ext_resource type="Texture2D" uid="uid://bsit8xycty7vy" path="res://UI/MainScreen/mask.png" id="10"]
[ext_resource type="Texture2D" uid="uid://bs1kihebwj626" path="res://Ships/Enemies/topdown-enemy.svg" id="11"]

[sub_resource type="Curve" id="1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.248804, 1), 0.0, 0.0, 0, 0, Vector2(0.502392, 0), 0.0, 0.0, 0, 0, Vector2(0.746412, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="CurveTexture" id="2"]
curve = SubResource("1")

[sub_resource type="ParticleProcessMaterial" id="3"]
emission_shape = 2
emission_sphere_radius = 1.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("2")

[sub_resource type="Animation" id="4"]
resource_name = "idle"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 360.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4v642"]
_data = {
"idle": SubResource("4")
}

[sub_resource type="Animation" id="5"]
resource_name = "idle"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 360.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ei3xr"]
_data = {
"idle": SubResource("5")
}

[sub_resource type="Animation" id="6"]
resource_name = "idle"
length = 4.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation_degrees")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 360.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_886vk"]
_data = {
"idle": SubResource("6")
}

[sub_resource type="Animation" id="7"]
resource_name = "idle"
length = 7.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 4, 5),
"transitions": PackedFloat32Array(1, 1, 0),
"update": 0,
"values": [Vector2(15, 12), Vector2(15, 12), Vector2(1036, 820)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Enemy3:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 4.5, 5.2, 6.2),
"transitions": PackedFloat32Array(1, 1, 1, 0),
"update": 0,
"values": [Vector2(15, 12), Vector2(15, 12), Vector2(15, 12), Vector2(932, 812)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Enemy2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 4.5, 5.5),
"transitions": PackedFloat32Array(1, 1, 0),
"update": 0,
"values": [Vector2(15, 12), Vector2(15, 12), Vector2(932, 812)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Enemy:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 4.5, 5, 6),
"transitions": PackedFloat32Array(1, 1, 1, 0),
"update": 0,
"values": [Vector2(15, 12), Vector2(15, 12), Vector2(15, 12), Vector2(932, 812)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_veo3w"]
_data = {
"idle": SubResource("7")
}

[sub_resource type="Animation" id="8"]
length = 4.0
step = 0.05

[sub_resource type="Animation" id="9"]
length = 0.9
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Foreground/GDQuestLogo:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.05, 0.3, 0.9),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [9.62309, 9.62309, -1.05059]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ooplp"]
_data = {
"idle": SubResource("8"),
"intro": SubResource("9")
}

[node name="MainScreen" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource("3")

[node name="EnvelopeBackground" type="TextureRect" parent="."]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource("2")
expand_mode = 1

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0

[node name="ColorRect" type="ColorRect" parent="MarginContainer"]
layout_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="MarginContainer"]
layout_mode = 2

[node name="ColorRect" type="ColorRect" parent="MarginContainer/MarginContainer"]
layout_mode = 2
color = Color(0.278431, 0.231373, 0.470588, 1)

[node name="Stars" type="GPUParticles2D" parent="MarginContainer/MarginContainer"]
position = Vector2(588, 316)
amount = 24
process_material = SubResource("3")
texture = ExtResource("5")
lifetime = 5.0
preprocess = 5.0
randomness = 1.0

[node name="Asteroids" type="Node2D" parent="MarginContainer/MarginContainer"]

[node name="Asteroid" type="Sprite2D" parent="MarginContainer/MarginContainer/Asteroids"]
position = Vector2(164, 292)
scale = Vector2(0.5, 0.5)
texture = ExtResource("8")

[node name="AnimationPlayer" type="AnimationPlayer" parent="MarginContainer/MarginContainer/Asteroids/Asteroid"]
autoplay = "idle"
libraries = {
"": SubResource("AnimationLibrary_4v642")
}

[node name="Asteroid2" type="Sprite2D" parent="MarginContainer/MarginContainer/Asteroids"]
position = Vector2(908, 524)
rotation = 1.25664
scale = Vector2(0.3, 0.3)
texture = ExtResource("8")

[node name="AnimationPlayer" type="AnimationPlayer" parent="MarginContainer/MarginContainer/Asteroids/Asteroid2"]
autoplay = "idle"
libraries = {
"": SubResource("AnimationLibrary_ei3xr")
}

[node name="Asteroid3" type="Sprite2D" parent="MarginContainer/MarginContainer/Asteroids"]
position = Vector2(1020, 148)
scale = Vector2(0.7, 0.7)
texture = ExtResource("8")

[node name="AnimationPlayer" type="AnimationPlayer" parent="MarginContainer/MarginContainer/Asteroids/Asteroid3"]
autoplay = "idle"
libraries = {
"": SubResource("AnimationLibrary_886vk")
}

[node name="Ships" type="Node2D" parent="MarginContainer/MarginContainer"]
position = Vector2(132, -52)

[node name="Mask2D" type="PointLight2D" parent="MarginContainer/MarginContainer/Ships"]
position = Vector2(448, 1274.5)
scale = Vector2(20, 20)
energy = 0.0
range_z_min = 1
range_z_max = 2
texture = ExtResource("10")

[node name="Player" type="Sprite2D" parent="MarginContainer/MarginContainer/Ships"]
z_index = 1
position = Vector2(15, 12)
rotation = 2.35619
scale = Vector2(0.7, 0.7)
texture = ExtResource("9")

[node name="Enemy" type="Sprite2D" parent="MarginContainer/MarginContainer/Ships"]
z_index = 1
position = Vector2(15, 12)
rotation = 2.35619
scale = Vector2(0.7, 0.7)
texture = ExtResource("11")

[node name="Enemy2" type="Sprite2D" parent="MarginContainer/MarginContainer/Ships"]
z_index = 1
position = Vector2(15, 12)
rotation = 2.35619
scale = Vector2(0.7, 0.7)
texture = ExtResource("11")

[node name="Enemy3" type="Sprite2D" parent="MarginContainer/MarginContainer/Ships"]
z_index = 1
position = Vector2(15, 12)
rotation = 2.35619
scale = Vector2(0.7, 0.7)
texture = ExtResource("11")

[node name="AnimationPlayer" type="AnimationPlayer" parent="MarginContainer/MarginContainer/Ships"]
autoplay = "idle"
libraries = {
"": SubResource("AnimationLibrary_veo3w")
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "intro"
libraries = {
"": SubResource("AnimationLibrary_ooplp")
}

[node name="Foreground" type="CanvasLayer" parent="."]
layer = 2

[node name="Mask2D" type="PointLight2D" parent="Foreground"]
position = Vector2(640.003, 1288)
scale = Vector2(20, 20)
energy = 0.0
range_z_min = 0
range_layer_min = 2
range_layer_max = 4
range_item_cull_mask = 2
texture = ExtResource("10")

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_AnimationPlayer_animation_finished"]
